<template>
  <div class="role">
    <a-button type="primary" @click="addView">æ–°å¢ž</a-button>
    <a-table :columns="state.columns" :data-source="state.data" :pagination="state.params">
      <template #operation="{ record }">
        <a-button type="primary" @click="editView(record)">ç¼–è¾‘</a-button>
        <a-button type="danger" @click="del(record)">åˆ é™¤</a-button>
      </template>
    </a-table>
  </div>
</template>

<script >
 
import { useRoute } from "vue-router";
import { reactive, defineComponent, onMounted } from "vue";
import { role } from "./role";
export default defineComponent({
  name: "role",
  components: {},
  setup(props, context) {
    // å¯ä»¥æ‹¿åˆ°æ‰€æœ‰å’Œè·¯ç”±ç›¸å…³çš„å‚æ•°
    // å’ŒuseRouter()å°±å·®ä¸€ä¸ªå­—æ¯rï¼ŒðŸ˜…
    let { getList, addView, editView, del, state } = role();
    onMounted(() => {
      getList();
    });

    return {
      getList,
      addView,
      editView,
      del,
      state,
    };
  },
});
</script>
